<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TNT Limousine - Multi-Platform Pricing Engine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .platform-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            padding: 10px;
            border-radius: 15px;
            z-index: 1000;
            min-width: 200px;
        }

        .platform-selector select {
            width: 100%;
            padding: 8px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-weight: bold;
            font-size: 12px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo {
            font-size: 2.8rem;
            font-weight: bold;
            color: #DC2626;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .platform-info {
            font-size: 1rem;
            color: #667eea;
            font-weight: 500;
            padding: 10px 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            margin: 20px 0;
            text-align: center;
        }

        .corporate-benefits {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%);
            border: 1px solid #10b981;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .corporate-benefits.show {
            display: block;
        }

        .form-section {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 10px;
            font-weight: 600;
            color: #DC2626;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select, input, textarea {
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #DC2626;
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.2);
        }

        select option {
            background: #1a1a2e;
            color: white;
            padding: 10px;
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .calculate-btn {
            background: linear-gradient(135deg, #DC2626 0%, #B91C1C 50%, #991B1B 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 15px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 25px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(220, 38, 38, 0.4);
        }

        .results {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.1) 0%, rgba(185, 28, 28, 0.1) 100%);
            border: 2px solid #DC2626;
            border-radius: 20px;
            padding: 35px;
            margin-top: 30px;
            display: none;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .price-breakdown {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .breakdown-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .breakdown-title {
            font-size: 16px;
            font-weight: bold;
            color: #DC2626;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .price-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }

        .price-item:last-child {
            border-bottom: none;
        }

        .savings-highlight {
            color: #10b981 !important;
            font-weight: bold;
        }

        .total-price {
            font-size: 2.5rem;
            font-weight: bold;
            color: #DC2626;
            text-align: center;
            margin: 25px 0;
            padding: 25px;
            background: rgba(220, 38, 38, 0.1);
            border-radius: 15px;
            text-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
        }

        .contact-info {
            text-align: center;
            margin-top: 25px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .integration-info {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border: 1px solid #667eea;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .fasttrack-actions {
            display: none;
            margin-top: 20px;
            text-align: center;
        }

        .fasttrack-actions.show {
            display: block;
        }

        .book-now-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .book-now-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }

        .rate-comparison {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .rate-comparison.show {
            display: block;
        }

        .comparison-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-item:last-child {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            .form-row, .price-breakdown {
                grid-template-columns: 1fr;
            }
            .platform-selector {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="platform-selector">
        <select id="platformType" onchange="updatePlatform()">
            <option value="gnet">GNET Partners</option>
            <option value="groundspan">Groundspan (Capital One)</option>
            <option value="corporate">Other Corporate Clients</option>
            <option value="standard">Standard Retail Rates</option>
        </select>
    </div>
    
    <div class="container">
        <div class="header">
            <div class="logo">TNT LIMOUSINE</div>
            <div class="subtitle">Multi-Platform Pricing Engine</div>
            <div class="platform-info" id="platformInfo">
                GNET Affiliate Platform Integration
            </div>
        </div>

        <div class="corporate-benefits" id="corporateBenefits">
            <h4 style="color: #10b981; margin-bottom: 10px;">Corporate Benefits Active</h4>
            <p style="font-size: 14px; opacity: 0.9;">
                Special contracted rates with transparent breakdown display. 
                Volume discounts and priority booking included.
            </p>
        </div>

        <div class="form-section">
            <div class="form-row">
                <div class="form-group">
                    <label for="serviceType">Service Type</label>
                    <select id="serviceType" onchange="updateForm()">
                        <option value="hourly">Hourly Service (Round Trip)</option>
                        <option value="point-to-point">Point to Point</option>
                        <option value="airport">Airport Transfer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vehicleType">Vehicle Type</label>
                    <select id="vehicleType">
                        <option value="sedan">Sedan (04/05) - 3 passengers</option>
                        <option value="transit">Transit - 12-15 passengers</option>
                        <option value="executive-mini-bus">Executive Mini Bus (09) - 12 passengers</option>
                        <option value="mini-bus-sofa">Mini Bus Sofa (01) - 10 passengers</option>
                        <option value="stretch-limo">Stretch Limo (03) - 8 passengers</option>
                        <option value="sprinter-limo">Sprinter Limo (02) - 10 passengers</option>
                        <option value="limo-bus">Limo Bus (10) - 18 passengers</option>
                    </select>
                </div>
            </div>

            <div class="form-row" id="hourlyOptions">
                <div class="form-group">
                    <label for="hours">Number of Hours</label>
                    <select id="hours">
                        <option value="3">3 Hours (Minimum)</option>
                        <option value="4">4 Hours</option>
                        <option value="5">5 Hours</option>
                        <option value="6">6 Hours</option>
                        <option value="7">7 Hours</option>
                        <option value="8">8 Hours</option>
                        <option value="9">9 Hours</option>
                        <option value="10">10+ Hours</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="dayType">Day Type</label>
                    <select id="dayType">
                        <option value="weekday">Monday-Thursday</option>
                        <option value="weekend">Friday-Sunday</option>
                        <option value="holiday">Holiday</option>
                    </select>
                </div>
            </div>

            <div class="form-row" id="airportOptions" style="display: none;">
                <div class="form-group">
                    <label for="airportCode">Airport Destination</label>
                    <select id="airportCode">
                        <option value="richmond">Richmond International (RIC)</option>
                        <option value="charlottesville">Charlottesville/Williamsburg</option>
                        <option value="national">Reagan National (DCA)</option>
                        <option value="dulles">Washington Dulles (IAD)</option>
                        <option value="bwi">Baltimore Washington (BWI)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tripType">Trip Type</label>
                    <select id="tripType">
                        <option value="one-way">One Way</option>
                        <option value="round-trip">Round Trip</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="serviceDate">Service Date</label>
                    <input type="date" id="serviceDate">
                </div>
                <div class="form-group">
                    <label for="serviceTime">Service Time</label>
                    <input type="time" id="serviceTime">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="pickupLocation">Pickup Location</label>
                    <input type="text" id="pickupLocation" placeholder="Enter pickup address">
                </div>
                <div class="form-group">
                    <label for="dropoffLocation">Destination</label>
                    <input type="text" id="dropoffLocation" placeholder="Enter destination address">
                </div>
            </div>

            <button class="calculate-btn" onclick="calculatePrice()">Get Multi-Platform Quote</button>
        </div>

        <div class="results" id="results">
            <h3 style="text-align: center; margin-bottom: 25px; color: #DC2626; font-size: 1.8rem;">Detailed Price Breakdown</h3>
            
            <div class="price-breakdown">
                <div class="breakdown-section">
                    <div class="breakdown-title">Service Details</div>
                    <div id="serviceDetails"></div>
                </div>
                <div class="breakdown-section">
                    <div class="breakdown-title">Cost Components</div>
                    <div id="priceBreakdown"></div>
                </div>
                <div class="breakdown-section">
                    <div class="breakdown-title">Platform Benefits</div>
                    <div id="platformBenefits"></div>
                </div>
            </div>
            
            <div class="rate-comparison" id="rateComparison">
                <div class="breakdown-title">Rate Comparison</div>
                <div id="comparisonDetails"></div>
            </div>
            
            <div class="total-price" id="totalPrice">$0.00</div>
            
            <div class="fasttrack-actions" id="fasttrackActions">
                <button class="book-now-btn" onclick="createFastTrackReservation()">
                    Create FastTrack Reservation
                </button>
                <button class="book-now-btn" onclick="exportToZohoCRM()">
                    Export to Zoho CRM
                </button>
            </div>
            
            <div class="contact-info">
                <p style="font-size: 1.2rem; margin-bottom: 15px;" id="bookingPrompt">
                    <strong>Ready to Book?</strong>
                </p>
                <p style="margin-bottom: 10px;">Call: <strong>(804) 972-4550</strong></p>
                <p style="margin-bottom: 15px;">Email: <strong>info@tntlimousine.com</strong></p>
                <p style="font-size: 14px; opacity: 0.9;">
                    *All prices include gratuity. Additional fees may apply for tolls and parking.
                </p>
            </div>
            
            <div class="integration-info" id="integrationInfo">
                <h4 style="color: #667eea; margin-bottom: 10px;">Platform Integration Active</h4>
                <p style="font-size: 14px; opacity: 0.9;" id="integrationDescription">
                    Quote ready for GNET affiliate submission with FastTrak Invision dispatch and Zoho CRM tracking.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Enhanced TNT Multi-Platform Pricing Data
        const pricingData = {
            // Standard retail rates (existing structure)
            vehicles: {
                'sedan': {
                    name: 'Sedan (Aviator)',
                    unitNo: '04/05',
                    capacity: 3,
                    roundTrip: {
                        baseHourly: 60,
                        gratuity: 12,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 100,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 95,
                        gratuityFlat: 40,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 155
                    },
                    airportRates: {
                        richmond: 105,
                        charlottesville: 333,
                        national: 450,
                        dulles: 460,
                        bwi: 657
                    }
                },
                'transit': {
                    name: 'Transit',
                    unitNo: '',
                    capacity: '12-15',
                    roundTrip: {
                        baseHourly: 90,
                        gratuity: 19,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 137,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 165,
                        gratuityFlat: 40,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 225
                    },
                    airportRates: {
                        richmond: 175,
                        charlottesville: 525,
                        national: 700,
                        dulles: 710,
                        bwi: 854
                    }
                },
                'executive-mini-bus': {
                    name: 'Executive Mini Bus',
                    unitNo: '09',
                    capacity: 12,
                    roundTrip: {
                        baseHourly: 95,
                        gratuity: 19,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 142,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 170,
                        gratuityFlat: 50,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 240
                    }
                },
                'mini-bus-sofa': {
                    name: 'Mini Bus (Sofa)',
                    unitNo: '01',
                    capacity: 10,
                    roundTrip: {
                        baseHourly: 95,
                        gratuity: 19,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 142,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 170,
                        gratuityFlat: 50,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 240
                    }
                },
                'stretch-limo': {
                    name: 'Stretch Limo',
                    unitNo: '03',
                    capacity: 8,
                    roundTrip: {
                        baseHourly: 113,
                        gratuity: 19,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 160,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 230,
                        gratuityFlat: 50,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 300
                    }
                },
                'sprinter-limo': {
                    name: 'Sprinter Limo',
                    unitNo: '02',
                    capacity: 10,
                    roundTrip: {
                        baseHourly: 113,
                        gratuity: 19,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 160,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 260,
                        gratuityFlat: 50,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 330
                    },
                    airportRates: {
                        richmond: 194,
                        charlottesville: 575,
                        national: 780,
                        dulles: 790,
                        bwi: 910
                    }
                },
                'limo-bus': {
                    name: 'Limo Bus',
                    unitNo: '10',
                    capacity: 18,
                    roundTrip: {
                        baseHourly: 152,
                        gratuity: 28,
                        fuelSurcharge: 10,
                        mileageCharge: 18,
                        totalHourly: 208,
                        minHours: 3
                    },
                    pointToPoint: {
                        baseHourly: 300,
                        gratuityFlat: 50,
                        fuelSurcharge: 10,
                        mileageCharge: 10,
                        totalHourly: 370
                    },
                    airportRates: {
                        richmond: 225,
                        charlottesville: 624,
                        national: 1020,
                        dulles: 1045,
                        bwi: 1265
                    }
                }
            },
            surcharges: {
                afterHourPickupFee: 20,
                discounts: {
                    sixPlusHourTrip: 0.10,
                    mondayThursdayService: 0.10,
                    lateInquiry: 0.15
                },
                holidaySurcharge: 0.25
            },
            // Corporate rate structures
            corporateRates: {
                groundspan: {
                    clientId: 'GRND-CAPONE-2025',
                    clientName: 'Groundspan (Capital One)',
                    rateType: 'contract_hourly',
                    minHours: 3,
                    billingType: 'monthly',
                    vehicleRates: {
                        'sedan': {
                            totalHourlyRate: 110,
                            breakdown: {
                                baseRate: 70,
                                driverRate: 15,
                                fuelSurcharge: 8,
                                insurance: 5,
                                gratuity: 12,
                                corporateDiscount: 0,
                                netTotal: 110
                            }
                        },
                        'transit': {
                            totalHourlyRate: 147,
                            breakdown: {
                                baseRate: 95,
                                driverRate: 20,
                                fuelSurcharge: 10,
                                insurance: 7,
                                gratuity: 15,
                                corporateDiscount: 0,
                                netTotal: 147
                            }
                        },
                        'executive-mini-bus': {
                            totalHourlyRate: 152,
                            breakdown: {
                                baseRate: 98,
                                driverRate: 22,
                                fuelSurcharge: 10,
                                insurance: 7,
                                gratuity: 15,
                                corporateDiscount: 0,
                                netTotal: 152
                            }
                        },
                        'mini-bus-sofa': {
                            totalHourlyRate: 152,
                            breakdown: {
                                baseRate: 98,
                                driverRate: 22,
                                fuelSurcharge: 10,
                                insurance: 7,
                                gratuity: 15,
                                corporateDiscount: 0,
                                netTotal: 152
                            }
                        },
                        'stretch-limo': {
                            totalHourlyRate: 170,
                            breakdown: {
                                baseRate: 115,
                                driverRate: 25,
                                fuelSurcharge: 10,
                                insurance: 8,
                                gratuity: 15,
                                corporateDiscount: -3,
                                netTotal: 170
                            }
                        },
                        'sprinter-limo': {
                            totalHourlyRate: 170,
                            breakdown: {
                                baseRate: 115,
                                driverRate: 25,
                                fuelSurcharge: 10,
                                insurance: 8,
                                gratuity: 15,
                                corporateDiscount: -3,
                                netTotal: 170
                            }
                        },
                        'limo-bus': {
                            totalHourlyRate: 218,
                            breakdown: {
                                baseRate: 155,
                                driverRate: 30,
                                fuelSurcharge: 12,
                                insurance: 10,
                                gratuity: 18,
                                corporateDiscount: -7,
                                netTotal: 218
                            }
                        }
                    },
                    specialTerms: [
                        'Priority booking guarantee',
                        'Dedicated account manager',
                        'Monthly consolidated billing',
                        'Real-time vehicle tracking'
                    ]
                },
                generic: {
                    clientId: 'CORP-GENERIC',
                    clientName: 'Corporate Client',
                    rateType: 'standard_plus_discount',
                    discountPercentage: 0.15,
                    minHours: 3,
                    billingType: 'net30',
                    specialTerms: [
                        '15% corporate discount applied',
                        'Volume pricing available',
                        'Net 30 billing terms'
                    ]
                }
            },
            // GNET commission structure
            gnetCommission: {
                standard: 0.12, // 12% commission
                premium: 0.15   // 15% for airport/premium services
            }
        };

        let currentPlatform = 'gnet';

        function updatePlatform() {
            currentPlatform = document.getElementById('platformType').value;
            const platformInfo = document.getElementById('platformInfo');
            const corporateBenefits = document.getElementById('corporateBenefits');
            
            switch(currentPlatform) {
                case 'gnet':
                    platformInfo.textContent = 'GNET Affiliate Platform Integration';
                    platformInfo.style.color = '#667eea';
                    corporateBenefits.classList.remove('show');
                    break;
                case 'groundspan':
                    platformInfo.textContent = 'Groundspan (Capital One) - Corporate Contract Rates';
                    platformInfo.style.color = '#10b981';
                    corporateBenefits.classList.add('show');
                    break;
                case 'corporate':
                    platformInfo.textContent = 'Corporate Client - Volume Discount Pricing';
                    platformInfo.style.color = '#10b981';
                    corporateBenefits.classList.add('show');
                    break;
                case 'standard':
                    platformInfo.textContent = 'Standard Retail Rates';
                    platformInfo.style.color = '#DC2626';
                    corporateBenefits.classList.remove('show');
                    break;
            }
        }

        function updateForm() {
            const serviceType = document.getElementById('serviceType').value;
            const hourlyOptions = document.getElementById('hourlyOptions');
            const airportOptions = document.getElementById('airportOptions');

            if (serviceType === 'airport') {
                hourlyOptions.style.display = 'none';
                airportOptions.style.display = 'grid';
            } else {
                hourlyOptions.style.display = 'grid';
                airportOptions.style.display = 'none';
            }
        }

        function calculatePrice() {
            const serviceType = document.getElementById('serviceType').value;
            const vehicleType = document.getElementById('vehicleType').value;
            const vehicle = pricingData.vehicles[vehicleType];
            
            let basePrice = 0;
            let breakdown = [];
            let serviceDetails = [];
            let platformBenefits = [];
            let standardPrice = 0; // For comparison
            
            // Calculate base pricing first (standard rates)
            if (serviceType === 'hourly') {
                const hours = parseInt(document.getElementById('hours').value);
                const dayType = document.getElementById('dayType').value;
                const actualHours = Math.max(hours, vehicle.roundTrip.minHours);
                
                serviceDetails.push({item: 'Service Type', value: 'Hourly (Round Trip)'});
                serviceDetails.push({item: 'Vehicle', value: `${vehicle.name} ${vehicle.unitNo ? '(' + vehicle.unitNo + ')' : ''}`});
                serviceDetails.push({item: 'Hours', value: `${actualHours} hours`});
                serviceDetails.push({item: 'Platform', value: getPlatformDisplayName()});
                
                // Apply platform-specific pricing
                if (currentPlatform === 'groundspan' && pricingData.corporateRates.groundspan.vehicleRates[vehicleType]) {
                    const corporateRate = pricingData.corporateRates.groundspan.vehicleRates[vehicleType];
                    const corporateBreakdown = corporateRate.breakdown;
                    
                    // Show detailed breakdown
                    breakdown.push({item: `Base Rate (${actualHours} hrs × $${corporateBreakdown.baseRate})`, amount: corporateBreakdown.baseRate * actualHours});
                    breakdown.push({item: `Driver Rate (${actualHours} hrs × $${corporateBreakdown.driverRate})`, amount: corporateBreakdown.driverRate * actualHours});
                    breakdown.push({item: `Fuel Surcharge (${actualHours} hrs × $${corporateBreakdown.fuelSurcharge})`, amount: corporateBreakdown.fuelSurcharge * actualHours});
                    breakdown.push({item: `Insurance (${actualHours} hrs × $${corporateBreakdown.insurance})`, amount: corporateBreakdown.insurance * actualHours});
                    breakdown.push({item: `Gratuity (${actualHours} hrs × $${corporateBreakdown.gratuity})`, amount: corporateBreakdown.gratuity * actualHours});
                    
                    if (corporateBreakdown.corporateDiscount !== 0) {
                        breakdown.push({item: `Corporate Adjustment (${actualHours} hrs × $${corporateBreakdown.corporateDiscount})`, amount: corporateBreakdown.corporateDiscount * actualHours});
                    }
                    
                    basePrice = corporateRate.totalHourlyRate * actualHours;
                    standardPrice = vehicle.roundTrip.totalHourly * actualHours;
                    
                    platformBenefits.push({item: 'Contract Rate', value: 'Active'});
                    platformBenefits.push({item: 'Billing', value: 'Monthly'});
                    platformBenefits.push({item: 'Account Manager', value: 'Dedicated'});
                    
                } else if (currentPlatform === 'corporate') {
                    // Generic corporate discount
                    const discountRate = pricingData.corporateRates.generic.discountPercentage;
                    standardPrice = vehicle.roundTrip.totalHourly * actualHours;
                    
                    breakdown.push({item: `Base Rate (${actualHours} hrs × $${vehicle.roundTrip.baseHourly})`, amount: vehicle.roundTrip.baseHourly * actualHours});
                    breakdown.push({item: `Gratuity (${actualHours} hrs × $${vehicle.roundTrip.gratuity})`, amount: vehicle.roundTrip.gratuity * actualHours});
                    breakdown.push({item: `Fuel Surcharge (${actualHours} hrs × $${vehicle.roundTrip.fuelSurcharge})`, amount: vehicle.roundTrip.fuelSurcharge * actualHours});
                    breakdown.push({item: `Mileage Charge (${actualHours} hrs × $${vehicle.roundTrip.mileageCharge})`, amount: vehicle.roundTrip.mileageCharge * actualHours});
                    
                    const discount = standardPrice * discountRate;
                    breakdown.push({item: `Corporate Discount (${Math.round(discountRate * 100)}%)`, amount: -discount});
                    
                    basePrice = standardPrice - discount;
                    
                    platformBenefits.push({item: 'Corporate Discount', value: `${Math.round(discountRate * 100)}%`});
                    platformBenefits.push({item: 'Billing Terms', value: 'Net 30'});
                    
                } else {
                    // Standard/GNET pricing
                    breakdown.push({item: `Base Rate (${actualHours} hrs × $${vehicle.roundTrip.baseHourly})`, amount: vehicle.roundTrip.baseHourly * actualHours});
                    breakdown.push({item: `Gratuity (${actualHours} hrs × $${vehicle.roundTrip.gratuity})`, amount: vehicle.roundTrip.gratuity * actualHours});
                    breakdown.push({item: `Fuel Surcharge (${actualHours} hrs × $${vehicle.roundTrip.fuelSurcharge})`, amount: vehicle.roundTrip.fuelSurcharge * actualHours});
                    breakdown.push({item: `Mileage Charge (${actualHours} hrs × $${vehicle.roundTrip.mileageCharge})`, amount: vehicle.roundTrip.mileageCharge * actualHours});
                    
                    basePrice = vehicle.roundTrip.totalHourly * actualHours;
                    standardPrice = basePrice;
                    
                    // Apply standard discounts/surcharges
                    if (dayType === 'weekday' && currentPlatform === 'standard') {
                        const discount = basePrice * pricingData.surcharges.discounts.mondayThursdayService;
                        breakdown.push({item: 'Monday-Thursday Discount (10%)', amount: -discount});
                        basePrice -= discount;
                    } else if (dayType === 'holiday') {
                        const surcharge = basePrice * pricingData.surcharges.holidaySurcharge;
                        breakdown.push({item: 'Holiday Surcharge (25%)', amount: surcharge});
                        basePrice += surcharge;
                    }
                    
                    if (hours >= 6 && currentPlatform === 'standard') {
                        const discount = basePrice * pricingData.surcharges.discounts.sixPlusHourTrip;
                        breakdown.push({item: '6+ Hour Discount (10%)', amount: -discount});
                        basePrice -= discount;
                    }
                    
                    if (currentPlatform === 'gnet') {
                        const commission = basePrice * pricingData.gnetCommission.standard;
                        platformBenefits.push({item: 'GNET Commission', value: `$${commission.toFixed(2)}`});
                        platformBenefits.push({item: 'Partner Status', value: 'Active'});
                        platformBenefits.push({item: 'FastTrack Integration', value: 'Ready'});
                    }
                }
            }
            // Similar logic for point-to-point and airport transfers would go here...
            
            // Check for after-hour pickup
            const serviceTime = document.getElementById('serviceTime').value;
            if (serviceTime && currentPlatform !== 'groundspan') {
                const hour = parseInt(serviceTime.split(':')[0]);
                if (hour >= 23 || hour < 6) {
                    breakdown.push({item: 'After-Hour Pickup Fee (11pm-6am)', amount: pricingData.surcharges.afterHourPickupFee});
                    basePrice += pricingData.surcharges.afterHourPickupFee;
                }
            }
            
            displayResults(serviceDetails, breakdown, platformBenefits, basePrice, standardPrice);
        }

        function getPlatformDisplayName() {
            switch(currentPlatform) {
                case 'gnet': return 'GNET Partner';
                case 'groundspan': return 'Groundspan Corporate';
                case 'corporate': return 'Corporate Client';
                case 'standard': return 'Standard Rate';
                default: return 'Standard Rate';
            }
        }
        
        function displayResults(serviceDetails, breakdown, platformBenefits, totalPrice, standardPrice) {
            const resultsDiv = document.getElementById('results');
            const serviceDetailsDiv = document.getElementById('serviceDetails');
            const priceBreakdownDiv = document.getElementById('priceBreakdown');
            const platformBenefitsDiv = document.getElementById('platformBenefits');
            const totalPriceDiv = document.getElementById('totalPrice');
            const rateComparison = document.getElementById('rateComparison');
            const comparisonDetails = document.getElementById('comparisonDetails');
            const fasttrackActions = document.getElementById('fasttrackActions');
            const integrationInfo = document.getElementById('integrationInfo');
            const integrationDescription = document.getElementById('integrationDescription');
            const bookingPrompt = document.getElementById('bookingPrompt');
            
            // Clear previous results
            serviceDetailsDiv.innerHTML = '';
            priceBreakdownDiv.innerHTML = '';
            platformBenefitsDiv.innerHTML = '';
            comparisonDetails.innerHTML = '';
            
            // Add service details
            serviceDetails.forEach(detail => {
                const detailDiv = document.createElement('div');
                detailDiv.className = 'price-item';
                detailDiv.innerHTML = `<span>${detail.item}:</span><span>${detail.value}</span>`;
                serviceDetailsDiv.appendChild(detailDiv);
            });
            
            // Add breakdown items
            breakdown.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'price-item';
                const sign = item.amount >= 0 ? '+' : '';
                const color = item.amount < 0 ? 'color: #10b981;' : '';
                itemDiv.innerHTML = `
                    <span>${item.item}</span>
                    <span style="${color}">${sign}$${Math.abs(item.amount).toFixed(2)}</span>
                `;
                priceBreakdownDiv.appendChild(itemDiv);
            });
            
            // Add platform benefits
            platformBenefits.forEach(benefit => {
                const benefitDiv = document.createElement('div');
                benefitDiv.className = 'price-item';
                benefitDiv.innerHTML = `<span>${benefit.item}:</span><span>${benefit.value}</span>`;
                platformBenefitsDiv.appendChild(benefitDiv);
            });
            
            // Show rate comparison for corporate clients
            if ((currentPlatform === 'groundspan' || currentPlatform === 'corporate') && standardPrice !== totalPrice) {
                const savings = standardPrice - totalPrice;
                const comparisonItem = document.createElement('div');
                comparisonItem.className = 'comparison-item';
                comparisonItem.innerHTML = `
                    <span>Standard Rate:</span>
                    <span>$${standardPrice.toFixed(2)}</span>
                `;
                comparisonDetails.appendChild(comparisonItem);
                
                const savingsItem = document.createElement('div');
                savingsItem.className = 'comparison-item';
                savingsItem.innerHTML = `
                    <span>Your Corporate Rate:</span>
                    <span style="color: #10b981; font-weight: bold;">$${totalPrice.toFixed(2)}</span>
                `;
                comparisonDetails.appendChild(savingsItem);
                
                const totalSavingsItem = document.createElement('div');
                totalSavingsItem.className = 'comparison-item';
                totalSavingsItem.innerHTML = `
                    <span>Total Savings:</span>
                    <span style="color: #10b981; font-weight: bold; font-size: 18px;">$${Math.abs(savings).toFixed(2)}</span>
                `;
                comparisonDetails.appendChild(totalSavingsItem);
                
                rateComparison.classList.add('show');
            } else {
                rateComparison.classList.remove('show');
            }
            
            // Set total price
            totalPriceDiv.textContent = `Total: $${totalPrice.toFixed(2)}`;
            
            // Update integration info and actions based on platform
            switch(currentPlatform) {
                case 'groundspan':
                    integrationDescription.textContent = 'Corporate quote ready for monthly billing and FastTrack dispatch integration.';
                    bookingPrompt.innerHTML = '<strong>Corporate Booking Ready</strong>';
                    fasttrackActions.classList.add('show');
                    break;
                case 'gnet':
                    integrationDescription.textContent = 'Quote ready for GNET affiliate submission with commission tracking and FastTrack dispatch.';
                    bookingPrompt.innerHTML = '<strong>Ready to Book Through GNET?</strong>';
                    fasttrackActions.classList.add('show');
                    break;
                case 'corporate':
                    integrationDescription.textContent = 'Corporate quote with volume discount applied. Net 30 billing terms available.';
                    bookingPrompt.innerHTML = '<strong>Corporate Booking Available</strong>';
                    fasttrackActions.classList.add('show');
                    break;
                default:
                    integrationDescription.textContent = 'Standard rate quote ready for immediate booking.';
                    bookingPrompt.innerHTML = '<strong>Ready to Book?</strong>';
                    fasttrackActions.classList.remove('show');
            }
            
            // Show results
            resultsDiv.classList.add('show');
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        function createFastTrackReservation() {
            // This would integrate with FastTrack Invision API
            alert('FastTrack Integration: Creating reservation in dispatch system...\n\nThis would normally connect to FastTrack Invision API to create the reservation directly, bypassing their portal.');
        }
        
        function exportToZohoCRM() {
            // This would integrate with Zoho CRM API
            alert('Zoho CRM Integration: Exporting lead and quote details...\n\nThis would normally push the quote and customer information directly to Zoho CRM.');
        }
        
        // Set default date to today
        document.getElementById('serviceDate').valueAsDate = new Date();
        
        // Set default time to current hour + 2
        const now = new Date();
        now.setHours(now.getHours() + 2);
        document.getElementById('serviceTime').value = now.toTimeString().slice(0, 5);
        
        // Initialize platform
        updatePlatform();
    </script>
</body>
</html>